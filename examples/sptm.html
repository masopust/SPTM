<!DOCTYPE html>
<html>
<head>
    <title>Spationomy</title>
       <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous"><link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
    <!--[if lte IE 8]><link rel="stylesheet" href="//cdn.leafletjs.com/leaflet-0.7.2/leaflet.ie.css" /><![endif]-->

    <link rel="stylesheet" href="../css/leaflet-sidebar.css" />
        <link rel="stylesheet" href="../css/styl.css" />
        
                           
                          <script type="text/javascript" src="../data/natural.js"></script>
                          <script type="text/javascript" src="../data/tourist.js"></script>
                          <script type="text/javascript" src="../data/shopy.js"></script>
                          <script type="text/javascript" src="../data/lc2000.js"></script>
                          <script type="text/javascript" src="../data/potencial2.js"></script>
                          <script type="text/javascript" src="../data/lang.js"></script>
                           <script type="text/javascript" src="../data/pes.js"></script>
                          <script src="leaflet.groupedlayercontrol.js"></script>
                      <link rel="stylesheet" href="leaflet.groupedlayercontrol.css" />
                      
                      
                         <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
<script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>
                       <!--[cluster-->
                             
                              	<script src="../js/leaflet.browser.print.js"></script>
        <script src="../js/leaflet.browser.print.utils.js"></script>
        <script src="../js/leaflet.browser.print.sizes.js"></script>
    
                            <link rel="stylesheet" href="https://ppete2.github.io/Leaflet.PolylineMeasure/Leaflet.PolylineMeasure.css" />
<script src="https://ppete2.github.io/Leaflet.PolylineMeasure/Leaflet.PolylineMeasure.js"></script> 
                             
                             
                             
                             <script type="text/javascript" src="../js/leaflet.markercluster.js"></script>
                              <link rel="stylesheet" href="../js/MarkerCluster.css" />
                              <link rel="stylesheet" href="../js/MarkerCluster.Default.css" />
                              
                              <script type="text/javascript" src="../js/lightbox.js" > </script>
                              <link rel="stylesheet" href="../css/lightbox.css" />
                      
                                <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
                      
                                <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
                      

    <style>
        body {
            padding: 0;
            margin: 0;
        }

        html, body, #map {
            height: 100%;
            font: 10pt "Helvetica Neue", Arial, Helvetica, sans-serif;
        }

     

        
    </style>
</head>
<body>


                     
                     
    <div id="sidebar" class="sidebar collapsed">
        <!-- Nav tabs -->
        <div class="sidebar-tabs">
            <ul role="tablist">
                <li><a href="#vrstvy" role="tab"><i class="fa fa-bars"></i></a></li>
                <li><a href="#infos" role="tab"><i class="fas fa-info"></i></a></li>
                <li><a href="#formular" role="tab"><i class="fab fa-wpforms"></i></a></li>


            </ul>

        </div>

        <!-- Tab panes -->
        <div class="sidebar-content">
            <div class="sidebar-pane" id="vrstvy">
                <h1 class="sidebar-header" id="tlac">
                  Layers 
                    
                    <span class="sidebar-close"><i class="fa fa-caret-left"></i></span>
                       </h1>
                   
                    <div id="seznamvrstev"> 
                     </div>    
                  
  
            </div>
              <div class="sidebar-pane" id="infos">
                <h1 class="sidebar-header">
                    Project result 
                    <span class="sidebar-close"><i class="fa fa-caret-left"></i></span>
                    </h1>

                    <div class="lorem"> <b>Project information </b> <br> In this work, the influence of  tourism on the ecology and economy of the Balearic Islands was investigated.
                     In a first step, literature was evaluated to identify the basic aspects of tourism, ecology, and economics in the Balearic Islands.
                      Furthermore, both statistical data and spatial data were first gathered and then examined and evaluated.      
                      <br>      <br>
                            <a class="example-image-link2" href="../img/graf.JPG" data-lightbox="example-2" data-title="Number of  sleeping accommodations on the Balearic Islands"><img class="example-image2" src="../img/graf_nahled.JPG" alt="image-2" /></a>
                            
                            
                                           <b>Tourism   </b>  <br>
                                           As expected, the decline of tourism in 2009 and 2010 is big, due to the global economic crisis. From 2008 to 2009, the number of tourists decreased by 1,961,232. In 2012 and 2013, we do not record the decline in tourism, since the second crisis did not affect countries as strong as the first one did. Tourism is currently growing on the Balearic Islands and reaching the highest number of tourists, which is <b>15,371,922 </b>per year. As has been said tourism is helping the Bal-earic Islands to increase their income, so the growth of total tourists is very good.
                            
                            
                            
                                                         <a class="example-image-link" href="../img/tourist.JPG" data-lightbox="example-1" data-title="Total number of tourists"><img class="example-image" src="../img/tourist_nahled.jpg" alt="image-1" /></a>
                             <br><br> Overall, it can be said that the Balearic Islands seem very dependent on tourism in term of economy and various studies found in the literature have also been able to demonstrate the negative impact on the ecology of the islands.
                             <br>
                                    <br>
                                      <b>detailed project results to download   </b>
                                    <br>
                                    <br>
                            
                            
                            
              
    </div>

                           <a href="../data/impact_of_tourism(gr7).pdf"  target="_blank"><img src="../img/down_but.png" width="120" height="30" alt="logo fb" style= "position: relative; border-radius: 15px 15px 15px 15px;box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, .2); left:12%; bottom: 2%; z-index: 9999;"/> </a>


            </div>    
            
               <div class="sidebar-pane" id="formular">
              
                <h1 class="sidebar-header">
                  Create data 
                    
                    <span class="sidebar-close"><i class="fa fa-caret-left"></i></span>
                       </h1>
                      <h4 style="width: 300px"> Click on the map and add the point! </h4>
                          <div class="form" style="width: 150px; color:rgb(220,31,37)">  <form action="save.php" method="post" target="hiddenFrame"  enctype="multipart/form-data" > 
 <label for="latInput">Latitude</label> <input type="text"   name="lat" id="latInput"/>
     <label for="lngInput">Longitude</label> <input type="text" name="long" id="lngInput"  />
 Place name <input type="text" name="name" value="">

    
 description <textarea name="textarea" cols="17" rows="3">
 </textarea>  
<input type="file" name="file">
 <input type="image" src="../img/submit.png"  border="0"  alt="Submit" />
 <input type="reset" value="Clear">
 
 
  </form>
      </div>             
                                    <img src=" http://www.geoinformatics.upol.cz/dprace/bakalarske/hohnova16/images/kgi_logo.png" alt="..." width="120" height="35" style=" position: absolute; left: 25%; bottom:25%; z-index: 9999;">
                              <img src=" http://mvso.cz/pics/logo.png" alt="..." width="120" height="38" style=" position: absolute; left: 25%; bottom:17%; z-index: 9999;">                  
                              <img src=" https://cescg.org/wp-content/uploads/2017/03/logotip-UM-2012-standardna-velikost.png" alt="..." width="120" height="40" style=" position: absolute; left: 25%; bottom:2%; z-index: 9999;">      
                                              <img src=" http://www.ruhr-uni-bochum.de/cd/extern/logo/Logo_RUB_BLAU_srgb.jpg" alt="..." width="120" height="29" style=" position: absolute; left: 25%; bottom:10%; z-index: 9999;">
            </div>

       
        </div>
    </div>
       
    <div id="map" class="sidebar-map"></div>
     <img src="../img/sptm2.png" width="35%" style="background:rgba(255,255,255,0.5); position: absolute; box-shadow: 2px 2px 5px 3px rgba(0, 0, 0, .2); border-radius: 15px 15px 15px 15px; left: 27%; bottom: 2%; z-index: 9999;" >

    <a href="../data/impact_of_tourism(gr7).pdf"  target="_blank"><img src="../img/down_but.png" width="130" height="33" alt="logo fb" style= "position: absolute; border-radius: 15px 15px 15px 15px;box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, .2); right:12%; bottom: 2%; z-index: 9999;"/> </a>  
     
        
   
   
   
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>

    <script src="../js/leaflet-sidebar.js"></script>
     <script src="leaflet.groupedlayercontrol.js"></script>
                              <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
<script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>
      <script src="../js/leaflet.browser.print.js"></script>
        <script src="../js/leaflet.browser.print.utils.js"></script>
        <script src="../js/leaflet.browser.print.sizes.js"></script>
        
        
        <link rel="stylesheet" href="https://ppete2.github.io/Leaflet.PolylineMeasure/Leaflet.PolylineMeasure.css" />
<script src="https://ppete2.github.io/Leaflet.PolylineMeasure/Leaflet.PolylineMeasure.js"></script>

	<link rel="stylesheet" href="../js/Control.MiniMap.css" />
	<script src="../js/Control.MiniMap.js" type="text/javascript"></script>

              <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
           	<link rel="stylesheet" type="text/css" href="../js/leaflet-openweathermap.css" />
	<script type="text/javascript" src="../js/leaflet-openweathermap.js"> </script>

  <script type="text/javascript" src="../js/leaflet.markercluster.js"></script>
                              <link rel="stylesheet" href="../js/MarkerCluster.css" />
                              <link rel="stylesheet" href="../js/MarkerCluster.Default.css" />
               <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

<script type="text/javascript" src="../js/lightbox.js" > </script>
                              <link rel="stylesheet" href="../css/lightbox.css" />
                                     
    <script>
    
       // Create the map


var map = new L.map('map', {
    center: new L.LatLng(39.5, 2,95),
    zoom: 8,
    maxZoom: 18,
    zoomControl: false, 
    layers: pod,hotels
});
  L.control.zoom({
     position:'topright'
}).addTo(map);


    
    
   

     //icon create

       var gifticon = L.icon({
    iconUrl: '../img/gift.png',
    iconSize: [30, 30],
    iconAnchor: [10, 15],
});
         var bayicon = L.icon({
    iconUrl: '../img/bay.png',
    iconSize: [30, 30],
    iconAnchor: [10, 15],
}); 
        var museumicon = L.icon({
    iconUrl: 'https://image.flaticon.com/icons/png/512/236/236981.png',
    iconSize: [30, 30],
    iconAnchor: [10, 15],
}); 
        var hotelicon = L.icon({
    iconUrl: 'http://krishnahospitalhaldwani.com/wp-content/uploads/2016/06/hostel-Icon.png',
    iconSize: [30, 30],
    iconAnchor: [10, 15],
});   
     //icon create


          //layers loading
         var bay= L.geoJson(natural, {   filter: natur,
    pointToLayer: function (feature, latlng,) {
        return L.marker(latlng, {icon: bayicon });
    },
    onEachFeature: function(feature, layer) {
  layer.bindTooltip( feature.properties.name,{className: 'myCSSClass'});
  
}
}); 
        //
       function natur(natural) {
  if (natural.properties.natural === "bay")  return true
}
 

       var gift= L.geoJson(shopy, {   filter: gift,
    pointToLayer: function (feature, latlng,) {
        return L.marker(latlng, {icon: gifticon });
    },
    onEachFeature: function(feature, layer) {
  layer.bindTooltip( feature.properties.name,{className: 'myCSSClass'});
  layer.bindPopup("<h2>16:25  ?????????? </h2>   "+feature.properties.name);
  }
}); 
     function gift(shopy) {
  if (shopy.properties.shop === "gift") return true
}
 
      var hotels= L.geoJson(tourist, {   filter: museumf,
    pointToLayer: function (feature, latlng,) {
        return L.marker(latlng, {icon: museumicon });
    },
    onEachFeature: function(feature, layer) {
  layer.bindTooltip( feature.properties.name,{className: 'myCSSClass'});
  }
});
     function museumf(tourist) {
  if (tourist.properties.tourism === "museum") return true
}
    
      var hostels= L.geoJson(tourist, {   filter: hot,
    pointToLayer: function (feature, latlng,) {
        return L.marker(latlng, {icon: hotelicon });
    } ,
    onEachFeature: function(feature, layer) {
  layer.bindTooltip(  feature.properties.name,{className: 'myCSSClass'});
  }
});
   function hot(tourist) {
  if (tourist.properties.tourism === "hostel") return true
}
               
     
     
     
     
        // layer tourist potencial
      function getColors(d) {
		return 	d > 250  ? '#bd0026' :
				d > 150  ? '#f03b20' :
				d > 90  ? '#fd8d3c' :
				d > 50   ? '#feb24c' :
				d > 20   ? '#fed976' :
				d > 0   ? '#ffffb2' :
							'#FFEDA0';
	}

	function stylepot(feature) {
		return {
			weight: 1,
			opacity: 1,
			color: 'white',
			dashArray: '1',
			fillOpacity: 0.9,
			fillColor: getColors(feature.properties.gridcode)
		};
	}
     
    
    var potenciall =L.geoJSON(potencial2, {style: stylepot,
  onEachFeature: function (feature, layer) {
    layer.bindTooltip('<h3>'+feature.properties.gridcode+'</h3>',{className: 'myCSSClass'});
  }
});

     function getColor(d) {
		return 	d > 70  ? '#045a8d' :
				d > 50  ? '#2b8cbe' :
				d > 40  ? '#74a9cf' :
				d > 25   ? '#a6bddb' :
				d > 15   ? '#d0d1e6' :
				d > 0   ? '#f1eef6' :
							'#FFEDA0';
	}

	function stylelang(feature) {
		return {
			weight: 0.5,
			opacity: 1,
			color: 'white',
			dashArray: '1',
			fillOpacity:1,
			fillColor: getColor(feature.properties.gridcode)
		};
	}
     
    
    var lang =L.geoJSON(lang, {style: stylelang,
  onEachFeature: function (feature, layer) {
    layer.bindTooltip('<h3>'+feature.properties.gridcode+'</h3>',{className: 'myCSSClass'});
  }
});

var highway = L.geoJson(pes, {color: "#ff7800", weight: 8, opacity: .5}).bindPopup("<h3>Turn on ortophoto 2000 and 2012!</h3>",{className: 'myCSSClass'});

  

     


   
             //basemaps  WMS
              
                var minis=L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
      	maxZoom: 18,
      	attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'});
        
              
              var pod=L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
      	maxZoom: 18,
      	attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'});
        pod.addTo(map);
          
 var theMarker = {};

  map.on('click',function(e){
    lat = e.latlng.lat;
    lon = e.latlng.lng;

    console.log("You clicked the map at LAT: "+ lat+" and LONG: "+lon );
        //Clear existing marker, 

        if (theMarker != undefined) {
              map.removeLayer(theMarker);
        };

    //Add a marker to show where you clicked.
     theMarker = L.marker([lat,lon]).addTo(map);  
});
        
              var mapycz2 =  L.tileLayer('http://m{s}.mapserver.mapy.cz/base-m/{z}-{x}-{y}',{ident:'mapycz',attribution:'&copy;Seznam.cz a.s., | &copy;OpenStreetMap <a href="http://mapy.cz"><img class="print" target="_blank" src="//api.mapy.cz/img/api/logo.png" style="cursor: pointer; position:relative;top: 5px;"></a>',maxZoom:20,subdomains:"1234"});
              var baseMap = new L.TileLayer('http://{s}.tiles.mapbox.com/v3/gvenech.m13knc8e/{z}/{x}/{y}.png'); 
              var mapycz =  L.tileLayer('http://m{s}.mapserver.mapy.cz/base-m/{z}-{x}-{y}',{ident:'mapycz',attribution:'&copy;Seznam.cz a.s., | &copy;OpenStreetMap <a href="http://mapy.cz"><img class="print" target="_blank" src="//api.mapy.cz/img/api/logo.png" style="cursor: pointer; position:relative;top: 5px;"></a>',maxZoom:20,subdomains:"1234"});    

          //wms historic
                var wms2006 = L.tileLayer.wms('http://www.ign.es/wms/pnoa-historico?', {
                    layers: 'PNOA2006'
                       });
                var wms2012 = L.tileLayer.wms('http://www.ign.es/wms/pnoa-historico?', {
                  layers: 'PNOA2012'
                       });
               var wms2000 = L.tileLayer.wms('http://www.ign.es/wms/pnoa-historico?', {
                  layers: 'SIGPAC'
                       });
                      
                      
                           var LeafIcon = L.Icon.extend({
		options: {
			
			iconSize:     [30, 35],
			
			iconAnchor:   [1, 30],
			shadowAnchor: [4, 62],
			popupAnchor:  [-3, -76]
		}
	});

    var icon1 = new LeafIcon({iconUrl: '../img/ico_1.png'}),
		redIcon = new LeafIcon({iconUrl: 'http://icons.iconarchive.com/icons/paomedia/small-n-flat/1024/gift-icon.png'}),
    koleje = new LeafIcon({iconUrl: 'dum.png'}),
    pirat = new LeafIcon({iconUrl: 'pirat.png'}),
		katedra = new LeafIcon({iconUrl: 'http://new.uss.upol.cz/wp-content/uploads/2014/10/UpolLOgo.png'});




  var port= L.marker([39.56226137431428,2.638392448425293],{icon: icon1}).bindPopup("<h3>Turn on ortophoto 2000 and 2012!</h3> <h2 style='color:rgb(220,31,37)'; 'text-align: center';>Port de Palma </h2> <img src=../img/port.jpg  width=300 height=230 >  ");

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                        var wms2015 = L.tileLayer.wms('http://ideib.caib.es/pub_ideib/public/IMATGES_OR2015_R25/MapServer/WMSServer?');
                       
   
             var prec= L.OWM.precipitationClassic = L.OWM.precipitationClassic({showLegend: false, opacity: 0.5,appId: '8b816162ce03197c15265e47b0149f36'});
            var city = L.OWM.current({intervall: 5,showOwmStationLink: true,minZoom:2, lang: 'en', appId:"8b816162ce03197c15265e47b0149f36"});
    
 

      var baseMaps = {
    "OSM" : pod,
    "<b style=color:red;>M</b><b style=color:black;>APY.CZ":mapycz
    };

    var groupedOverlays = {                                                              
    "<b style=color:rgb(220,31,37);>Historic orthophoto</b>": {
    "2000": wms2000,
    "2006": wms2006,
    "2012": wms2012,
   
   
  },
  "<b style=color:rgb(220,31,37);>Points of interest</b> <br>": {
    "museum <img src='https://image.flaticon.com/icons/png/512/236/236981.png' height=25  style= 'margin-left: 17px'> ": hotels,
    "hostel     <img src='http://krishnahospitalhaldwani.com/wp-content/uploads/2016/06/hostel-Icon.png' height=25 style= 'margin-left: 32px'> ":   hostels,
    "souveniers <img src='../img/gift.png' height=25  style= 'margin-left: 7px'> ":   gift,
    "bay <img src='../img/bay.png' height=25   style= 'margin-left: 47px'> ":   bay
   
    
   
  },
  "<b style=color:rgb(220,31,37);>Actual weather</b>": {
    " actual weather":   city,
    "precipitation": prec
    
  } ,  
    "<b style=color:rgb(220,31,37);>Analyses</b>": {
    " tourism potentional  <img src='../img/poten.png' height=30  style= 'margin-left: 5px'>":   potenciall,
    " lang rain factor <img src='../img/lang.png' height=30  style= 'margin-left: 25px'>":   lang,
    
    
  } ,
  "<b style=color:rgb(220,31,37);>Places of changes</b> <br>": {
    "Port of mallorca <img src='../img/ico_1.png' height=30  style= 'margin-left: 10px'> ": port,
    "Highway MA-15 ": highway
  
   
    
   
  }
  
};
var sidebar = L.control.sidebar('sidebar').addTo(map);
sidebar.open('vrstvy');
   var panel= L.control.groupedLayers(baseMaps,groupedOverlays,{collapsed:false}).addTo(map);
    var htmlObject = panel.getContainer();
      var a = document.getElementById('seznamvrstev')
      function setParent(el, newParent){
        newParent.appendChild(el);
      }
      setParent(htmlObject, a);
             
var homebutton= L.easyButton('fa-home fa-lg', function()
{map.setView([39.5, 2,95],8);}, 'home position',{ position: 'topright'});
homebutton.addTo(map);

 /*
var customControl =  L.Control.extend({

  options: {
    position: 'topright'
  },

  onAdd: function (map) {
    var container = L.DomUtil.create('div', 'leaflet-bar leaflet-control leaflet-control-custom');

    container.style.backgroundColor = 'white';     
    container.style.backgroundImage = "url(../img/icon_1.png)"
    container.style.backgroundSize = "25px 28px";
    container.style.width = '26px';
    container.style.height = '26px';
    
    container.style.zIndex = '2000000';

    container.onclick = function(){map.setView([39.56226137431428, 2.638392448425293],15);  map.addLayer( port); map.addLayer( wms2000);
    }

    return container;
  }
});
    
  map.addControl(new customControl());
  */


   

//var position1= L.easyButton('<img src="../img/icon_1.png" style="width:25px";>', function()

//{map.setView([39.56226137431428, 2.638392448425293],15);  map.addLayer( port);}, 'port',{ position: 'topright'});
//position1.addTo(map);
                  
  
   
           
           
            
            
          map.on('click', function(e) {
    $('#latInput').val(e.latlng.lat);
    $('#lngInput').val(e.latlng.lng);
    updateMarker(e.latlng.lat, e.latlng.lng);
});  
            
            
            
            
            var updateMarkerByInputs = function() {
	return updateMarker( $('#latInput').val() , $('#lngInput').val());
}
$('#latInput').on('input', updateMarkerByInputs);
$('#lngInput').on('input', updateMarkerByInputs);


     L.control.scale({position: 'bottomright', maxWidth:150, metric:true}).addTo(map);
     
          
     
         
            var tisk= L.control.browserPrint({position: 'topright'}).addTo(map);
        
            var miniMap = new L.Control.MiniMap(minis, { toggleDisplay: true, width:120, height:120, zoomLevelOffset:-4.5 }).addTo(map);
       
  L.Control.geocoder().addTo(map);

            
       
        
    </script>
    
    
    =
</body>
</html>
     
        